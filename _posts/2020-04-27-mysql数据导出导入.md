---
layout: post
title: mysql数据导出导入
---
mysql数据查询导出，适合部分数据

# 数据导出
```
SELECT s.* INTO OUTFILE '/var/lib/mysql-files/m.xls' CHARACTER SET gbk from (select '主键','题目名','标题','类型0-单选1-多选','答案','选项，按照ABCD顺序','创建时间','是否启用0-否1-是' union select * from tb_subject) s ;
-- 带自定义表头
-- 设置编码格式gbk,可以使用excel打开
```

# 数据导入
```
load data infile '/var/lib/mysql-files/m.xls' REPLACE into table `tb_subject` character set gbk fields OPTIONALLY enclosed by '"';
-- 设置编码格式gbk
-- 设置"为单个字段
```

# 导出语法
```
SELECT [列名] FROM table [WHERE 语句] INTO OUTFILE '目标文件' [OPTION];
```

- FIELDS TERMINATED BY '字符串'：设置字符串为字段之间的分隔符，可以为单个或多个字符。默认值是“\t”。
- FIELDS ENCLOSED BY '字符'：设置字符来括住字段的值，只能为单个字符。默认情况下不使用任何符号。
- FIELDS OPTIONALLY ENCLOSED BY '字符'：设置字符来括住CHAR、VARCHAR和TEXT等字符型字段。默认情况下不使用任何符号。
- FIELDS ESCAPED BY '字符'：设置转义字符，只能为单个字符。默认值为“\”。
- LINES STARTING BY '字符串'：设置每行数据开头的字符，可以为单个或多个字符。默认情况下不使用任何字符。
- LINES TERMINATED BY '字符串'：设置每行数据结尾的字符，可以为单个或多个字符。默认值是“\n”。
- FIELDS和LINES两个子句都是自选的，但是如果两个子句都被指定了，**FIELDS必须位于LINES的前面。**
